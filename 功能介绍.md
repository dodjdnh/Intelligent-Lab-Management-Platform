# 实验室综合管理与物联网监控系统 (LIMS & IoT) 项目文档

---

## 1. 核心业务模块
系统的核心逻辑涵盖了资源调度、物资流转及权限管控，确保实验室运行的高效与合规。

### 1.1 实验室预约系统
* **实时状态监控**：实现实验室时段占用逻辑，支持查看实时占用/空闲状态。
* **审批流管理**：内置完整的申请审批工作流，管理员可对学生的预约申请进行在线审核。

### 1.2 耗材精细化管理
* **库存追踪**：实时展示耗材名称、规格、当前库存及单位。
* **智能入库逻辑**：实现“有则累加，无则新增”逻辑，自动合并同名同规格耗材，减少冗余数据。
* **自动化校验**：学生领用申请时，系统自动校验申请量是否超过当前库存（库存水位线检查）。
* **审核闭环**：管理员端可统一处理领用申请，支持一键“通过”或“驳回”操作。

### 1.3 人员权限管理 (RBAC)
* **权限模型**：基于 **RBAC（Role-Based Access Control）** 模型，严格区分 `admin` 与 `student` 角色。
* **账号生命周期**：管理员具备新增用户、删除账号及重置学生初始密码的功能。

---

## 2. 智能化仪表盘 (Dashboard)
通过数据可视化直观反馈实验室运行指标。

| 维度 | 功能描述 |
| :--- | :--- |
| **今日预约数** | 实时统计当天已生效的实验室预约，掌握使用高频时段。 |
| **耗材预警** | 自动扫描库存低于阈值（如 <20）的物资，触发报警提醒。 |
| **待办审批** | 聚合展示待处理的预约与耗材申请总数，提升处理效率。 |
| **布局优化** | **角色感知**：学生端仅显示“今日预约”，且卡片自动拉伸占满全屏。 |

---

## 3. 系统底层架构与安全
采用主流全栈技术栈，确保系统的高可用性与工程规范。

### 3.1 技术栈选型
* **后端**：Spring Boot 3.x + MyBatis-Plus。实现了数据库下划线（`consumable_id`）与实体类驼峰（`consumableId`）的精确映射。
* **前端**：Vue 3 + Element-Plus。采用响应式布局，适配 PC、平板与手机屏幕。

### 3.2 安全与权限控制
* **鉴权框架**：集成 **Sa-Token**，实现按钮级（Button-level）和菜单级（Menu-level）的权限控制。
* **数据隔离**：确保管理员与学生端的数据可见性隔离，学生仅能查看本人申请记录。

### 3.3 工程规范
* **标准交互**：封装统一响应体 `Result` 类，确保前后端数据交互格式一致。
* **快速迁移**：提供完整 `.sql` 脚本，支持多环境快速部署。

---

## 4. 物理层感知与通信 (IoT)
通过硬件传感器与网络隧道技术，实现实验室物理环境的数字化映射。

### 4.1 多维数据采集
* **重量监测**：集成**重力传感器**，实时采集数值（如 `120.54`），实现剩余量的精确量化。
* **身份识别**：利用 **RFID 模块** 读取唯一标签（如 `24fac1c7`），实现耗材物理身份绑定。

### 4.2 数据封装与传输
* **标准化数据封装**：将传感器模拟信号统一封装为标准的 JSON 对象：
    ```json
    {
      "gravity": 120.54,
      "RFID": "24fac1c7"
    }
    ```
* **公网穿透技术**：
    * **HTTP 上报**：作为 HTTP Client，通过 POST 请求将数据发送至公网。
    * **隧道通信**：适配 **Ngrok** 隧道地址，解决内网服务器接收外部硬件数据的难题。
    * **协议适配**：正确配置 `Content-Type: application/json` 请求头，规避 `415 媒体类型不支持` 错误。